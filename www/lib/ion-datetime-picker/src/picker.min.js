!function(){"use strict";angular.module("ion-datetime-picker",["ionic"]).directive("ionDatetimePicker",function(){return{restrict:"AE",require:"ngModel",scope:{modelDate:"=ngModel",title:"=?",subTitle:"=?",buttonOk:"=?",buttonCancel:"=?",monthStep:"=?",hourStep:"=?",minuteStep:"=?",secondStep:"=?",onlyValid:"=?"},controller:["$scope","$ionicPopup","$ionicPickerI18n","$timeout",function(e,t,n,i){function a(e,t){0!==(t=t||0)&&e.setDate(e.getDate()+t),s.year=e.getFullYear(),s.month=e.getMonth(),s.day=e.getDate(),s.hour=e.getHours(),s.minute=e.getMinutes(),s.second=e.getSeconds(),s.date=e}function o(e){var t=new Date(e);return isNaN(t.getTime())&&(t=new Date),t.setHours(0,0,0,0,0),t}e.i18n=n,e.bind={},e.rows=[0,1,2,3,4,5],e.cols=[1,2,3,4,5,6,7],e.weekdays=[0,1,2,3,4,5,6];var s={year:e.year,month:e.month,day:e.day,hour:e.hour,minute:e.minute,second:e.second,date:new Date,getDateWithoutTime:function(){var e=new Date(this.date);return e.setHours(0,0,0,0,0),e}};e.showPopup=function(){t.show({templateUrl:"lib/ion-datetime-picker/src/picker-popup.html",title:e.title||"Pick "+(e.dateEnabled?"a date":"")+(e.dateEnabled&&e.timeEnabled?" and ":"")+(e.timeEnabled?"a time":""),subTitle:e.subTitle||"",scope:e,cssClass:"ion-datetime-picker-popup",buttons:[{text:e.buttonOk||e.i18n.ok,type:e.i18n.okClass,onTap:function(){e.commit()}},{text:e.buttonCancel||e.i18n.cancel,type:e.i18n.cancelClass,onTap:function(){i(function(){e.processModel()},200)}}]})},e.prepare=function(){e.mondayFirst&&e.weekdays.push(e.weekdays.shift())},e.processModel=function(){var t=e.modelDate instanceof Date?e.modelDate:new Date;e.year=e.dateEnabled?t.getFullYear():0,e.month=e.dateEnabled?t.getMonth():0,e.day=e.dateEnabled?t.getDate():0,e.hour=e.timeEnabled?t.getHours():0,e.minute=e.timeEnabled?t.getMinutes():0,e.second=e.secondsEnabled?t.getSeconds():0,c()};var c=function(){!function(){var t=new Date(e.year,e.month,e.day,e.hour,e.minute,e.second);e.isEnabled(t.getDate(),!0)?a(t):(e.year=s.year,e.month=s.month,e.day=s.day,e.hour=s.hour,e.minute=s.minute,e.second=s.second)}();var t=new Date(e.year,e.month,e.day,e.hour,e.minute,e.second);e.dateEnabled&&(e.year=t.getFullYear(),e.month=t.getMonth(),e.day=t.getDate(),e.bind.year=e.year,e.bind.month=e.month,e.firstDay=new Date(e.year,e.month,1).getDay(),e.mondayFirst&&(e.firstDay=(e.firstDay||7)-1),e.daysInMonth=l(e.year,e.month)),e.timeEnabled&&(e.hour=t.getHours(),e.minute=t.getMinutes(),e.second=t.getSeconds(),e.meridiem=e.hour<12?"AM":"PM",e.bind.hour=e.meridiemEnabled?(e.hour%12||12).toString():e.hour.toString(),e.bind.minute=(e.minute<10?"0":"")+e.minute.toString(),e.bind.second=(e.second<10?"0":"")+e.second.toString(),e.bind.meridiem=e.meridiem)},l=function(e,t){return new Date(e,t+1,0).getDate()};e.changeBy=function(t,n){if(+t){if(("hour"===n||"minute"===n)&&-1===t){var i=new Date(e.year,e.month,e.day,e.hour-1,e.minute);0!==e.minute&&"hour"!==n||e.hour!==i.getHours()||e.hour--}e[n]+=+t,"month"!==n&&"year"!==n||(e.day=Math.min(e.day,l(e.year,e.month))),c()}},e.change=function(t){var n=e.bind[t];n&&"meridiem"===t?("AM"===(n=n.toUpperCase())&&"PM"===e.meridiem?e.hour-=12:"PM"===n&&"AM"===e.meridiem&&(e.hour+=12),c()):(+n||0==+n)&&(e[t]=+n,"month"!==t&&"year"!==t||(e.day=Math.min(e.day,l(e.year,e.month))),c())},e.changeDay=function(t){e.day=t,c()},e.isEnabled=function(t,n){if(!e.onlyValid)return!0;var i=new Date(e.year,e.month,t),c=e.onlyValid;c instanceof Array||(c=[c]);for(var l=!0,d=0;d<c.length;d++){var r=c[d];if(r.after){var u=o(r.after);r.inclusive?!(l=i>=u)&&n&&a(u,0):!(l=i>u)&&n&&a(u,1)}else if(r.before){var m=o(r.before);r.inclusive?!(l=i<=m)&&n&&a(m,0):!(l=i<m)&&n&&a(m,-1)}else if(r.between){var b=o(r.between.initial),h=o(r.between.final);r.inclusive?!(l=i>=b&&i<=h)&&n&&(i<b&&a(b,0),i>h&&a(h,0)):!(l=i>b&&i<h)&&n&&(i<=b&&a(b,1),i>=h&&a(h,-1))}else if(r.outside){b=o(r.outside.initial),h=o(r.outside.final);if(r.inclusive){if(!(l=i<=b||i>=h)&&n){(g=s.getDateWithoutTime())<=b&&a(h,0),g>=h&&a(b,0)}}else if(!(l=i<b||i>h)&&n){var g;(g=s.getDateWithoutTime())<b&&a(h,1),g>h&&a(b,-1)}}if(!l)break}return l},e.changed=function(){c()},e.dateEnabled&&e.$watch(function(){return(new Date).getDate()},function(){var t=new Date;e.today={day:t.getDate(),month:t.getMonth(),year:t.getFullYear()}})}],link:function(e,t,n,i){e.dateEnabled="date"in n&&"false"!==n.date,e.timeEnabled="time"in n&&"false"!==n.time,!1===e.dateEnabled&&!1===e.timeEnabled&&(e.dateEnabled=e.timeEnabled=!0),e.mondayFirst="mondayFirst"in n&&"false"!==n.mondayFirst,e.secondsEnabled=e.timeEnabled&&"seconds"in n&&"false"!==n.seconds,e.meridiemEnabled=e.timeEnabled&&"amPm"in n&&"false"!==n.amPm,e.monthStep=+e.monthStep||1,e.hourStep=+e.hourStep||1,e.minuteStep=+e.minuteStep||1,e.secondStep=+e.secondStep||1,e.prepare(),i.$render=function(){e.modelDate=i.$viewValue,e.processModel()},e.commit=function(){e.modelDate=new Date(e.year,e.month,e.day,e.hour,e.minute,e.second),i.$setViewValue(e.modelDate)},t.on("click",e.showPopup)}}}),angular.module("ion-datetime-picker").factory("$ionicPickerI18n",["$window",function(e){return{ok:"OK",cancel:"Cancel",okClass:"button-positive",cancelClass:"button-stable",arrowButtonClass:"button-positive",weekdays:e.moment?e.moment.weekdaysMin():["Su","Mo","Tu","We","Th","Fr","Sa"],months:e.moment?e.moment.months():["January","February","March","April","May","June","July","August","September","October","November","December"],years:[1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2027,2028,2029,2030,2031,2032,2033,2034,2035,2036,2037,2038,2039,2040,2041,2042,2043,2044,2045,2046,2047,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2070,2071,2072,2073,2074,2075,2076,2077,2078,2079,2080,2081,2082,2083,2084,2085,2086,2087,2088,2089,2090,2091,2092,2093,2094,2095,2096,2097,2098,2099,2100]}}]),angular.module("ion-datetime-picker").run(["$templateCache",function(e){e.put("lib/ion-datetime-picker/src/picker-popup.html",'<div class="ion-datetime-picker"><div ng-if-start="dateEnabled" class="row month-year"><div class="col col-10 left-arrow"><button type="button" class="button button-small button-clear icon ion-chevron-left" ng-class="i18n.arrowButtonClass" ng-click="changeBy(-monthStep, \'month\')"></button></div><label class="col col-50 month-input"><div class="item item-input item-select"><select ng-model="bind.month" ng-options="i18n.months.indexOf(month) as month for month in i18n.months" ng-change="change(\'month\')"></select></div></label> <label class="col year-input"><div class="item item-input"><div><select ng-model="bind.year" ng-options="i18n.year.indexOf(year) as year for year in i18n.years" ng-change="change(\'year\')" required></select></div></div></label><div class="col col-10 right-arrow"><button type="button" class="button button-small button-clear icon ion-chevron-right" ng-class="i18n.arrowButtonClass" ng-click="changeBy(+monthStep, \'month\')"></button></div></div><div class="row calendar weekdays"><div class="col" ng-repeat="weekday in weekdays"><div class="weekday">{{i18n.weekdays[weekday]}}</div></div></div><div ng-if-end="" class="row calendar days" ng-repeat="y in rows"><div class="col" ng-repeat="x in cols"><div ng-show="(cellDay = y * 7 + x - firstDay) > 0 && cellDay <= daysInMonth" ng-click="changeDay(cellDay)" class="day" ng-class="{ \'disabled\': !isEnabled(cellDay), \'selected\': cellDay === day, \'today\': cellDay === today.day && month === today.month && year === today.year }">{{cellDay}}</div></div></div><div ng-if-start="timeEnabled" class="row time-buttons"><div class="col"></div><div class="col-20"><button type="button" class="button button-clear icon ion-chevron-up" ng-class="i18n.arrowButtonClass" ng-click="changeBy(+hourStep, \'hour\')"></button></div><div class="col"></div><div class="col-20"><button type="button" class="button button-clear icon ion-chevron-up" ng-class="i18n.arrowButtonClass" ng-click="changeBy(+minuteStep, \'minute\')"></button></div><div ng-if-start="secondsEnabled" class="col"></div><div ng-if-end="" class="col-20"><button type="button" class="button button-clear icon ion-chevron-up" ng-class="i18n.arrowButtonClass" ng-click="changeBy(+secondStep, \'second\')"></button></div><div ng-if-start="meridiemEnabled" class="col"></div><div ng-if-end="" class="col-20"><button type="button" class="button button-clear icon ion-chevron-up" ng-class="i18n.arrowButtonClass" ng-click="changeBy(+12, \'hour\')"></button></div><div class="col"></div></div><div class="row time"><div class="col"></div><label class="col col-20"><div class="item item-input"><div><input type="text" ng-model="bind.hour" pattern="0?([01]?[0-9]|2[0-3])" ng-change="change(\'hour\')" ng-blur="changed()" required=""></div></div></label><div class="col colon">:</div><label class="col col-20"><div class="item item-input"><div><input type="text" ng-model="bind.minute" pattern="0?[0-5]?[0-9]" ng-change="change(\'minute\')" ng-blur="changed()" required=""></div></div></label><div ng-if-start="secondsEnabled" class="col colon">:</div><label ng-if-end="" class="col col-20"><div class="item item-input"><div><input type="text" ng-model="bind.second" pattern="0?[0-5]?[0-9]" ng-change="change(\'second\')" ng-blur="changed()" required=""></div></div></label><div ng-if-start="meridiemEnabled" class="col"></div><label ng-if-end="" class="col col-20"><div class="item item-input"><div><input type="text" ng-model="bind.meridiem" pattern="[aApP][mM]" ng-change="change(\'meridiem\')" ng-blur="changed()" required=""></div></div></label><div class="col"></div></div><div ng-if-end="" class="row time-buttons"><div class="col"></div><div class="col-20"><button type="button" class="button button-clear icon ion-chevron-down" ng-class="i18n.arrowButtonClass" ng-click="changeBy(-hourStep, \'hour\')"></button></div><div class="col"></div><div class="col-20"><button type="button" class="button button-clear icon ion-chevron-down" ng-class="i18n.arrowButtonClass" ng-click="changeBy(-minuteStep, \'minute\')"></button></div><div ng-if-start="secondsEnabled" class="col"></div><div ng-if-end="" class="col-20"><button type="button" class="button button-clear icon ion-chevron-down" ng-class="i18n.arrowButtonClass" ng-click="changeBy(-secondStep, \'second\')"></button></div><div ng-if-start="meridiemEnabled" class="col"></div><div ng-if-end="" class="col-20"><button type="button" class="button button-clear icon ion-chevron-down" ng-class="i18n.arrowButtonClass" ng-click="changeBy(-12, \'hour\')"></button></div><div class="col"></div></div></div>')}])}();